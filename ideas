rare edge case what if bot update the state to lastProcessedBlock but